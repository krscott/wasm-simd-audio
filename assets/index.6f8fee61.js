var Ve=Object.defineProperty;var Ge=(t,e,n)=>e in t?Ve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var b=(t,e,n)=>(Ge(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))o(_);new MutationObserver(_=>{for(const r of _)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(_){const r={};return _.integrity&&(r.integrity=_.integrity),_.referrerpolicy&&(r.referrerPolicy=_.referrerpolicy),_.crossorigin==="use-credentials"?r.credentials="include":_.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(_){if(_.ep)return;_.ep=!0;const r=n(_);fetch(_.href,r)}})();var Y,u,xe,$,le,K={},Se=[],Ke=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function N(t,e){for(var n in e)t[n]=e[n];return t}function Ae(t){var e=t.parentNode;e&&e.removeChild(t)}function Je(t,e,n){var o,_,r,c={};for(r in e)r=="key"?o=e[r]:r=="ref"?_=e[r]:c[r]=e[r];if(arguments.length>2&&(c.children=arguments.length>3?Y.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)c[r]===void 0&&(c[r]=t.defaultProps[r]);return D(t,c,o,_,null)}function D(t,e,n,o,_){var r={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:_==null?++xe:_};return _==null&&u.vnode!=null&&u.vnode(r),r}function U(t){return t.children}function I(t,e){this.props=t,this.context=e}function T(t,e){if(e==null)return t.__?T(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?T(t):null}function Ce(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Ce(t)}}function fe(t){(!t.__d&&(t.__d=!0)&&$.push(t)&&!J.__r++||le!==u.debounceRendering)&&((le=u.debounceRendering)||setTimeout)(J)}function J(){for(var t;J.__r=$.length;)t=$.sort(function(e,n){return e.__v.__b-n.__v.__b}),$=[],t.some(function(e){var n,o,_,r,c,l;e.__d&&(c=(r=(n=e).__v).__e,(l=n.__P)&&(o=[],(_=N({},r)).__v=r.__v+1,ie(l,r,_,n.__n,l.ownerSVGElement!==void 0,r.__h!=null?[c]:null,o,c==null?T(r):c,r.__h),Te(o,r),r.__e!=c&&Ce(r)))})}function Ne(t,e,n,o,_,r,c,l,f,h){var i,y,d,s,a,F,m,g=o&&o.__k||Se,x=g.length;for(n.__k=[],i=0;i<e.length;i++)if((s=n.__k[i]=(s=e[i])==null||typeof s=="boolean"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"?D(null,s,null,null,s):Array.isArray(s)?D(U,{children:s},null,null,null):s.__b>0?D(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null){if(s.__=n,s.__b=n.__b+1,(d=g[i])===null||d&&s.key==d.key&&s.type===d.type)g[i]=void 0;else for(y=0;y<x;y++){if((d=g[y])&&s.key==d.key&&s.type===d.type){g[y]=void 0;break}d=null}ie(t,s,d=d||K,_,r,c,l,f,h),a=s.__e,(y=s.ref)&&d.ref!=y&&(m||(m=[]),d.ref&&m.push(d.ref,null,s),m.push(y,s.__c||a,s)),a!=null?(F==null&&(F=a),typeof s.type=="function"&&s.__k===d.__k?s.__d=f=Fe(s,f,t):f=Re(t,s,d,g,a,f),typeof n.type=="function"&&(n.__d=f)):f&&d.__e==f&&f.parentNode!=t&&(f=T(d))}for(n.__e=F,i=x;i--;)g[i]!=null&&(typeof n.type=="function"&&g[i].__e!=null&&g[i].__e==n.__d&&(n.__d=T(o,i+1)),Oe(g[i],g[i]));if(m)for(i=0;i<m.length;i++)Ee(m[i],m[++i],m[++i])}function Fe(t,e,n){for(var o,_=t.__k,r=0;_&&r<_.length;r++)(o=_[r])&&(o.__=t,e=typeof o.type=="function"?Fe(o,e,n):Re(n,o,o,_,o.__e,e));return e}function Re(t,e,n,o,_,r){var c,l,f;if(e.__d!==void 0)c=e.__d,e.__d=void 0;else if(n==null||_!=r||_.parentNode==null)e:if(r==null||r.parentNode!==t)t.appendChild(_),c=null;else{for(l=r,f=0;(l=l.nextSibling)&&f<o.length;f+=2)if(l==_)break e;t.insertBefore(_,r),c=r}return c!==void 0?c:_.nextSibling}function Qe(t,e,n,o,_){var r;for(r in n)r==="children"||r==="key"||r in e||Q(t,r,null,n[r],o);for(r in e)_&&typeof e[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||n[r]===e[r]||Q(t,r,e[r],n[r],o)}function ae(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||Ke.test(e)?n:n+"px"}function Q(t,e,n,o,_){var r;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||ae(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||ae(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?o||t.addEventListener(e,r?de:ue,r):t.removeEventListener(e,r?de:ue,r);else if(e!=="dangerouslySetInnerHTML"){if(_)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n==null?"":n;break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function ue(t){this.l[t.type+!1](u.event?u.event(t):t)}function de(t){this.l[t.type+!0](u.event?u.event(t):t)}function ie(t,e,n,o,_,r,c,l,f){var h,i,y,d,s,a,F,m,g,x,E,se,L,k=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(f=n.__h,l=e.__e=n.__e,e.__h=null,r=[l]),(h=u.__b)&&h(e);try{e:if(typeof k=="function"){if(m=e.props,g=(h=k.contextType)&&o[h.__c],x=h?g?g.props.value:h.__:o,n.__c?F=(i=e.__c=n.__c).__=i.__E:("prototype"in k&&k.prototype.render?e.__c=i=new k(m,x):(e.__c=i=new I(m,x),i.constructor=k,i.render=Ye),g&&g.sub(i),i.props=m,i.state||(i.state={}),i.context=x,i.__n=o,y=i.__d=!0,i.__h=[]),i.__s==null&&(i.__s=i.state),k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=N({},i.__s)),N(i.__s,k.getDerivedStateFromProps(m,i.__s))),d=i.props,s=i.state,y)k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(k.getDerivedStateFromProps==null&&m!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(m,x),!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(m,i.__s,x)===!1||e.__v===n.__v){i.props=m,i.state=i.__s,e.__v!==n.__v&&(i.__d=!1),i.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(P){P&&(P.__=e)}),i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(m,i.__s,x),i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,s,a)})}if(i.context=x,i.props=m,i.__v=e,i.__P=t,E=u.__r,se=0,"prototype"in k&&k.prototype.render)i.state=i.__s,i.__d=!1,E&&E(e),h=i.render(i.props,i.state,i.context);else do i.__d=!1,E&&E(e),h=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++se<25);i.state=i.__s,i.getChildContext!=null&&(o=N(N({},o),i.getChildContext())),y||i.getSnapshotBeforeUpdate==null||(a=i.getSnapshotBeforeUpdate(d,s)),L=h!=null&&h.type===U&&h.key==null?h.props.children:h,Ne(t,Array.isArray(L)?L:[L],e,n,o,_,r,c,l,f),i.base=e.__e,e.__h=null,i.__h.length&&c.push(i),F&&(i.__E=i.__=null),i.__e=!1}else r==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Xe(n.__e,e,n,o,_,r,c,f);(h=u.diffed)&&h(e)}catch(P){e.__v=null,(f||r!=null)&&(e.__e=l,e.__h=!!f,r[r.indexOf(l)]=null),u.__e(P,e,n)}}function Te(t,e){u.__c&&u.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(o){o.call(n)})}catch(o){u.__e(o,n.__v)}})}function Xe(t,e,n,o,_,r,c,l){var f,h,i,y=n.props,d=e.props,s=e.type,a=0;if(s==="svg"&&(_=!0),r!=null){for(;a<r.length;a++)if((f=r[a])&&"setAttribute"in f==!!s&&(s?f.localName===s:f.nodeType===3)){t=f,r[a]=null;break}}if(t==null){if(s===null)return document.createTextNode(d);t=_?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s,d.is&&d),r=null,l=!1}if(s===null)y===d||l&&t.data===d||(t.data=d);else{if(r=r&&Y.call(t.childNodes),h=(y=n.props||K).dangerouslySetInnerHTML,i=d.dangerouslySetInnerHTML,!l){if(r!=null)for(y={},a=0;a<t.attributes.length;a++)y[t.attributes[a].name]=t.attributes[a].value;(i||h)&&(i&&(h&&i.__html==h.__html||i.__html===t.innerHTML)||(t.innerHTML=i&&i.__html||""))}if(Qe(t,d,y,_,l),i)e.__k=[];else if(a=e.props.children,Ne(t,Array.isArray(a)?a:[a],e,n,o,_&&s!=="foreignObject",r,c,r?r[0]:n.__k&&T(n,0),l),r!=null)for(a=r.length;a--;)r[a]!=null&&Ae(r[a]);l||("value"in d&&(a=d.value)!==void 0&&(a!==t.value||s==="progress"&&!a||s==="option"&&a!==y.value)&&Q(t,"value",a,y.value,!1),"checked"in d&&(a=d.checked)!==void 0&&a!==t.checked&&Q(t,"checked",a,y.checked,!1))}return t}function Ee(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(o){u.__e(o,n)}}function Oe(t,e,n){var o,_;if(u.unmount&&u.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Ee(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(r){u.__e(r,e)}o.base=o.__P=null,t.__c=void 0}if(o=t.__k)for(_=0;_<o.length;_++)o[_]&&Oe(o[_],e,typeof t.type!="function");n||t.__e==null||Ae(t.__e),t.__=t.__e=t.__d=void 0}function Ye(t,e,n){return this.constructor(t,n)}function Ze(t,e,n){var o,_,r;u.__&&u.__(t,e),_=(o=typeof n=="function")?null:n&&n.__k||e.__k,r=[],ie(e,t=(!o&&n||e).__k=Je(U,null,[t]),_||K,K,e.ownerSVGElement!==void 0,!o&&n?[n]:_?null:e.firstChild?Y.call(e.childNodes):null,r,!o&&n?n:_?_.__e:e.firstChild,o),Te(r,t)}Y=Se.slice,u={__e:function(t,e,n,o){for(var _,r,c;e=e.__;)if((_=e.__c)&&!_.__)try{if((r=_.constructor)&&r.getDerivedStateFromError!=null&&(_.setState(r.getDerivedStateFromError(t)),c=_.__d),_.componentDidCatch!=null&&(_.componentDidCatch(t,o||{}),c=_.__d),c)return _.__E=_}catch(l){t=l}throw t}},xe=0,I.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=N({},this.state),typeof t=="function"&&(t=t(N({},n),this.props)),t&&N(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),fe(this))},I.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),fe(this))},I.prototype.render=U,$=[],J.__r=0;var et=0;function A(t,e,n,o,_){var r,c,l={};for(c in e)c=="ref"?r=e[c]:l[c]=e[c];var f={type:t,props:l,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--et,__source:_,__self:o};if(typeof t=="function"&&(r=t.defaultProps))for(c in r)l[c]===void 0&&(l[c]=r[c]);return u.vnode&&u.vnode(f),f}const tt=({onUpload:t})=>A("input",{className:"\r block\r h-full\r w-full\r cursor-pointer\r rounded-full\r border\r border-gray-300\r bg-gray-50\r p-4\r align-middle\r text-sm\r text-gray-900\r file:hidden\r dark:border-gray-600\r dark:bg-gray-700\r dark:text-gray-400\r dark:placeholder-gray-400\r ",type:"file",onChange:n=>{var r;const o=(r=n.target)==null?void 0:r.files;if(!o)return;const _=o[0];!_||t(_)}});var Z,w,te,he,X=0,$e=[],W=[],pe=u.__b,ye=u.__r,me=u.diffed,we=u.__c,ge=u.unmount;function ce(t,e){u.__h&&u.__h(w,t,X||e),X=0;var n=w.__H||(w.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:W}),n.__[t]}function He(t){return X=1,nt(Le,t)}function nt(t,e,n){var o=ce(Z++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Le(void 0,e),function(r){var c=o.__N?o.__N[0]:o.__[0],l=o.t(c,r);c!==l&&(o.__N=[l,o.__[1]],o.__c.setState({}))}],o.__c=w,!w.u)){w.u=!0;var _=w.shouldComponentUpdate;w.shouldComponentUpdate=function(r,c,l){if(!o.__c.__H)return!0;var f=o.__c.__H.__.filter(function(i){return i.__c});if(f.every(function(i){return!i.__N}))return!_||_.call(this,r,c,l);var h=!1;return f.forEach(function(i){if(i.__N){var y=i.__[0];i.__=i.__N,i.__N=void 0,y!==i.__[0]&&(h=!0)}}),!!h&&(!_||_.call(this,r,c,l))}}return o.__N||o.__}function Me(t,e){var n=ce(Z++,3);!u.__s&&Ue(n.__H,e)&&(n.__=t,n.i=e,w.__H.__h.push(n))}function ne(t){return X=5,ot(function(){return{current:t}},[])}function ot(t,e){var n=ce(Z++,7);return Ue(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function rt(){for(var t;t=$e.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(B),t.__H.__h.forEach(_e),t.__H.__h=[]}catch(e){t.__H.__h=[],u.__e(e,t.__v)}}u.__b=function(t){typeof t.type!="function"||t.o||t.type===U?t.o||(t.o=t.__&&t.__.o?t.__.o:""):t.o=(t.__&&t.__.o?t.__.o:"")+(t.__&&t.__.__k?t.__.__k.indexOf(t):0),w=null,pe&&pe(t)},u.__r=function(t){ye&&ye(t),Z=0;var e=(w=t.__c).__H;e&&(te===w?(e.__h=[],w.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=W,n.__N=n.i=void 0})):(e.__h.forEach(B),e.__h.forEach(_e),e.__h=[])),te=w},u.diffed=function(t){me&&me(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&($e.push(e)!==1&&he===u.requestAnimationFrame||((he=u.requestAnimationFrame)||_t)(rt)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==W&&(n.__=n.__V),n.i=void 0,n.__V=W})),te=w=null},u.__c=function(t,e){e.some(function(n){try{n.__h.forEach(B),n.__h=n.__h.filter(function(o){return!o.__||_e(o)})}catch(o){e.some(function(_){_.__h&&(_.__h=[])}),e=[],u.__e(o,n.__v)}}),we&&we(t,e)},u.unmount=function(t){ge&&ge(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{B(o)}catch(_){e=_}}),n.__H=void 0,e&&u.__e(e,n.__v))};var be=typeof requestAnimationFrame=="function";function _t(t){var e,n=function(){clearTimeout(o),be&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);be&&(e=requestAnimationFrame(n))}function B(t){var e=w,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),w=e}function _e(t){var e=w;t.__c=t.__(),w=e}function Ue(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Le(t,e){return typeof e=="function"?e(t):e}let p;const C=new Array(32).fill(void 0);C.push(void 0,null,!0,!1);function Pe(t){return C[t]}let H=C.length;function it(t){t<36||(C[t]=H,H=t)}function ct(t){const e=Pe(t);return it(t),e}const De=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});De.decode();let j=new Uint8Array;function z(){return j.byteLength===0&&(j=new Uint8Array(p.memory.buffer)),j}function ve(t,e){return De.decode(z().subarray(t,t+e))}let q=new Float32Array;function R(){return q.byteLength===0&&(q=new Float32Array(p.memory.buffer)),q}let v=0;function S(t,e){const n=e(t.length*4);return R().set(t,n/4),v=t.length,n}function st(t){H===C.length&&C.push(C.length+1);const e=H;return H=C[e],C[e]=t,e}const V=new TextEncoder("utf-8"),lt=typeof V.encodeInto=="function"?function(t,e){return V.encodeInto(t,e)}:function(t,e){const n=V.encode(t);return e.set(n),{read:t.length,written:n.length}};function ft(t,e,n){if(n===void 0){const l=V.encode(t),f=e(l.length);return z().subarray(f,f+l.length).set(l),v=l.length,f}let o=t.length,_=e(o);const r=z();let c=0;for(;c<o;c++){const l=t.charCodeAt(c);if(l>127)break;r[_+c]=l}if(c!==o){c!==0&&(t=t.slice(c)),_=n(_,o,o=c+t.length*3);const l=z().subarray(_+c,_+o);c+=lt(t,l).written}return v=c,_}let G=new Int32Array;function ke(){return G.byteLength===0&&(G=new Int32Array(p.memory.buffer)),G}class M{static __wrap(e){const n=Object.create(M.prototype);return n.ptr=e,n}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();p.__wbg_wasmfft_free(e)}static new(){const e=p.wasmfft_new();return M.__wrap(e)}static with_capcity(e){const n=p.wasmfft_with_capcity(e);return M.__wrap(n)}lib_fft(e,n){try{const r=S(e,p.__wbindgen_malloc),c=v;var o=S(n,p.__wbindgen_malloc),_=v;p.wasmfft_lib_fft(this.ptr,r,c,o,_)}finally{n.set(R().subarray(o/4,o/4+_)),p.__wbindgen_free(o,_*4)}}dft(e,n){try{const r=S(e,p.__wbindgen_malloc),c=v;var o=S(n,p.__wbindgen_malloc),_=v;p.wasmfft_dft(this.ptr,r,c,o,_)}finally{n.set(R().subarray(o/4,o/4+_)),p.__wbindgen_free(o,_*4)}}cooley_tukey(e,n){try{const r=S(e,p.__wbindgen_malloc),c=v;var o=S(n,p.__wbindgen_malloc),_=v;p.wasmfft_cooley_tukey(this.ptr,r,c,o,_)}finally{n.set(R().subarray(o/4,o/4+_)),p.__wbindgen_free(o,_*4)}}simd_cooley_tukey(e,n){try{const r=S(e,p.__wbindgen_malloc),c=v;var o=S(n,p.__wbindgen_malloc),_=v;p.wasmfft_simd_cooley_tukey(this.ptr,r,c,o,_)}finally{n.set(R().subarray(o/4,o/4+_)),p.__wbindgen_free(o,_*4)}}simd_cooley_tukey2(e,n){try{const r=S(e,p.__wbindgen_malloc),c=v;var o=S(n,p.__wbindgen_malloc),_=v;p.wasmfft_simd_cooley_tukey2(this.ptr,r,c,o,_)}finally{n.set(R().subarray(o/4,o/4+_)),p.__wbindgen_free(o,_*4)}}}async function at(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(o){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function ut(){const t={};return t.wbg={},t.wbg.__wbg_new_abda76e883ba8a5f=function(){const e=new Error;return st(e)},t.wbg.__wbg_stack_658279fe44541cf6=function(e,n){const o=Pe(n).stack,_=ft(o,p.__wbindgen_malloc,p.__wbindgen_realloc),r=v;ke()[e/4+1]=r,ke()[e/4+0]=_},t.wbg.__wbg_error_f851667af71bcfc6=function(e,n){try{console.error(ve(e,n))}finally{p.__wbindgen_free(e,n)}},t.wbg.__wbindgen_object_drop_ref=function(e){ct(e)},t.wbg.__wbindgen_throw=function(e,n){throw new Error(ve(e,n))},t}function dt(t,e){return p=t.exports,Ie.__wbindgen_wasm_module=e,q=new Float32Array,G=new Int32Array,j=new Uint8Array,p}async function Ie(t){typeof t>"u"&&(t=new URL("/wasm-simd-audio/assets/wasm_audio_bg.0ae1bc0d.wasm",self.location));const e=ut();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:o}=await at(await t,e);return dt(n,o)}const We=()=>{if(!(typeof window>"u"))return window._audiovis_audioContext||(window._audiovis_audioContext=new AudioContext),window._audiovis_audioContext},ht=t=>{const e=We();if(typeof window>"u"||!e)return;window._audiovis_audioSourceNodes||(window._audiovis_audioSourceNodes=[]);const n=window._audiovis_audioSourceNodes.find(([_])=>_===t);if(n){const[,_]=n;return _}const o=e.createMediaElementSource(t);return window._audiovis_audioSourceNodes.push([t,o]),o};class pt{constructor(e){b(this,"_buffer");b(this,"_w",0);b(this,"_r",0);b(this,"_count",0);this._buffer=new Array(e)}inc(e){return(e+1)%this._buffer.length}fullSize(){return this._buffer.length}count(){return this._count}isFull(){return this._count===this._buffer.length}clear(){this._count=0,this._r=0,this._w=0;for(let e=0;e<this._buffer.length;++e)this._buffer[e]=void 0}put(e){this._buffer[this._w]=e,this._w=this.inc(this._w),this._w===this._r&&(this._r=this.inc(this._r)),this._count=Math.min(this._count+1,this._buffer.length)}take(){if(this._count===0)return;const e=this._buffer[this._r];if(e===void 0)throw new Error("expected value");return this._buffer[this._r]=void 0,this._r=this.inc(this._r),this._count-=1,e}reduce(e,n){if(this._count===0)return n;let o=n;for(let _=0;_<this._count;++_){const r=this._buffer[(_+this._r)%this._buffer.length];if(r===void 0)throw new Error("expected value");o=e(o,r,_)}return o}}class yt extends pt{sum(){return this.reduce((e,n)=>e+n,0)}average(){const e=this.count();return e===0?void 0:this.sum()/e}}const Be=0,ee=4,je=Be+36.50907*ee,ze=19.57467*ee,oe=je+29.6*ee,re=ze;class O{constructor(e){b(this,"buf");b(this,"avg");b(this,"callback");b(this,"name");b(this,"color");b(this,"textRow");b(this,"plotOffset");b(this,"plotScale");b(this,"drawPlot");b(this,"drawCalcTime");var o,_,r,c,l,f;this.callback=e.callback,this.name=e.name,this.color=e.color,this.textRow=(o=e.textRow)!=null?o:0,this.plotOffset=(_=e.plotOffset)!=null?_:Be,this.plotScale=(r=e.plotScale)!=null?r:ee,this.drawPlot=(c=e.drawPlot)!=null?c:!0,this.drawCalcTime=(l=e.drawCalcTime)!=null?l:!0;const n=(f=e.ringBufferSize)!=null?f:100;this.buf=new yt(n)}put(e){this.buf.put(e),this.buf.isFull()&&(this.avg=this.buf.average(),this.buf.clear())}exec(e,n,o,_){var l;if(!this.drawCalcTime&&!this.drawPlot)return;const r=performance.now();this.callback(e,n);const c=performance.now()-r;if(this.put(c),this.drawPlot&&(o.strokeStyle=this.color,qe(o,n,0,this.plotOffset*(_.height/400),_.width/n.length,this.plotScale*(_.height/400))),this.drawCalcTime){const f=Math.min(Math.max(Math.round(_.height/40),12),64);o.font=`${f}px monospace`,o.fillStyle=this.color,o.fillText(`${this.name}: ${(l=this.avg)==null?void 0:l.toFixed(3)} ms`,0,(1+this.textRow)*f)}}}const qe=(t,e,n,o,_,r)=>{t.beginPath();for(let c=0,l=e.length;c<l;++c){const f=n+c*_,h=o-e[c]*r;c===0?t.moveTo(f,h):t.lineTo(f,h)}t.stroke()},mt=(t,e,n)=>{Me(()=>{if(!t)return;const o=n==null?void 0:n.getContext("2d");if(!e||!n||!o)return;const _=We(),r=ht(e);if(!_||!r)return;let c=!1;const l=M.new(),f=_.createAnalyser();f.fftSize=1024,f.smoothingTimeConstant=.1,r.connect(f),f.connect(_.destination);const h=new Float32Array(f.fftSize),i=new Float32Array(f.frequencyBinCount),y=[new O({callback:(s,a)=>f.getFloatFrequencyData(a),name:"native",color:"white",drawCalcTime:!1}),new O({callback:(s,a)=>l.lib_fft(s,a),name:"rslib",color:"yellow",textRow:0,plotOffset:je,plotScale:ze}),new O({callback:(s,a)=>l.cooley_tukey(s,a),name:"naive",color:"orange",textRow:1,plotOffset:oe,plotScale:re}),new O({callback:(s,a)=>l.simd_cooley_tukey(s,a),name:"simd1",color:"pink",textRow:2,plotOffset:oe,plotScale:re}),new O({callback:(s,a)=>l.simd_cooley_tukey2(s,a),name:"simd2",color:"lightgreen",textRow:3,plotOffset:oe,plotScale:re})],d=()=>{if(c){r.disconnect(),l.free();return}requestAnimationFrame(d),o.clearRect(0,0,n.width,n.height),f.getFloatTimeDomainData(h),o.strokeStyle="lightskyblue",qe(o,h,0,n.height*.5,n.width/h.length,n.height*.5);for(const s of y)s.exec(h,i,o,n)};return requestAnimationFrame(d),()=>{c=!0}},[t,e,n])},wt=t=>{const[e,n]=He(()=>{var o;return(o=t==null?void 0:t.getBoundingClientRect())!=null?o:new DOMRectReadOnly(0,0,0,0)});return Me(()=>{if(!t)return;const o=new ResizeObserver(_=>{for(const r of _)console.log(r),r.target===t&&n(r.contentRect)});return o.observe(t),()=>{o.unobserve(t)}},[t]),e};function gt(){const t=ne(null),e=ne(null),[n,o]=He();mt(!!n,e.current,t.current);const _=ne(null),r=wt(_.current);return A("div",{className:"flex h-screen flex-col items-center justify-center gap-5 p-5",children:[A("div",{className:"flex items-center gap-4",children:[A(tt,{onUpload:c=>o(URL.createObjectURL(c))}),A("div",{children:A("audio",{ref:e,src:n,controls:!0})})]}),A("div",{ref:_,className:"w-full grow overflow-hidden border border-slate-600",children:A("canvas",{ref:t,height:r.height,width:r.width})})]})}Ie().then(()=>{Ze(A(gt,{}),document.getElementById("app"))});
